<script type="text/ng-template" id="myModalContent.html">   
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Are you sure you want to delete?</h3>
      </div>
      <div class="modal-body">
       <button class="btn btn-lg btn-danger btn-block" ng-click="delete()" >Yes</button>
       <button class="btn btn-lg btn-primary btn-block" ng-click="close()" >No</button>
      </div>
    </div>
  </div>
</script>

<script type="text/ng-template" id="ingredientImport.html">   
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Please Copy In Ingredient List</h3>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <textarea class="form-control" rows="10" ng-model="importIngredients.data"></textarea>
       </div>
       <button class="btn btn-lg btn-danger btn-block" ng-click="import()" >Import</button>
       <button class="btn btn-lg btn-primary btn-block" ng-click="close()" >Cancel</button>
      </div>
    </div>
  </div>
</script>

<nav class="navbar navbar-toggleable-md navbar-light bg-faded">
  <div class="collapse navbar-collapse" id="navbarNav"  style="width:auto">
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" (click)="this._router.navigate(['view'])">
        <i class="fa fa-arrow-left"></i>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" (click)="saveRecipe()">
        <i class="fa fa-floppy-o"></i>
      </a>
    </li>
  </ul>
  </div>
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <h1 class="navbar-brand mb-0 page-header">{{recipe.title}}</h1>
</nav>

<div class="row">
  <div class="col-md-6"> 
    <div class="form-group">
        <label for="title">Title</label>
        <input id="title" placeholder="My awesome recipe" type="text" class="form-control" [(ngModel)]="recipe.title">
    </div>
  </div>

  <div class="col-md-6">    
    <div class="form-group">
      <label for="prep_time">Prep Time</label>
      <input id="prep_time" type="text" class="form-control" placeholder="Time in Minutes" [(ngModel)]="recipe.prep_time">
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="form-group">
      <label for="cook_time">Cook Time</label>
        <input id="cook_time" type="text" class="form-control" placeholder="Time in Minutes" [(ngModel)]="recipe.cook_time">
    </div>
  </div>


  <div class="col-md-6">
    <div class="form-group">
      <label for="url">URL</label>
      <input id="url" type="text" class="form-control" placeholder="URL" [(ngModel)]="recipe.url">
    </div>
  </div>
</div>

<div class="row">
  <div class="col-sm-6">
    <div class="form-group">
      <label for="category">Category</label>
      <input id="category" placeholder="Breakfast, Lunch, Dinner, Desert, Heart-burn Inducing, etc." type="text" class="form-control" [(ngModel)]="recipe.category" typeahead="category for category in categories | filter:$viewValue | limitTo:8">
    </div>
  </div>

  <div class="col-sm-6">
    <label for="rating">Rating</label>
      <star-rating [(value)]="recipe.rating"></star-rating>
  </div>
</div>

<div class="row">
  <div class="col-sm-12">
    <div class="form-group">
      <label for="instructions">Instructions</label>
      <textarea id="instructions" class="form-control" placeholder="Tell us how to make this awesome meal..." rows="5" [(ngModel)]="recipe.instructions"></textarea>
    </div>
  </div>
</div>

<table class="table table-striped">
  <thead>
    <tr>
      <th>
        Quantity
      </th>
      <th>
        Unit
      </th>
      <th>
        Ingredient
      </th>
      <th>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr class="my-repeat-animation"  *ngFor="let ingredient of recipe.ingredients">
      <td >
        <div class="form-group">
          <input type="text" class="form-control" [(ngModel)]="ingredient.quantity">
        </div>
      </td>
      <td >
        <div class="form-group">
          <input type="text" class="form-control" [(ngModel)]="ingredient.units">
        </div>
      </td>
      <td >
        <div class="form-group">
          <input type="text" class="form-control" [(ngModel)]="ingredient.name">
        </div>
      </td>
      <td>
        <button type="button" class="btn btn-danger btn-lg" (click)="deleteIngredient(ingredient)">
          <i class="fa fa-trash"></i>
        </button>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <button type="button" (click)="addIngredient()" class="btn btn-info">
          <i class="fa fa-plus"></i>
          Add Ingredient
        </button>
      </td>
      <td colspan="2">
        <button type="button" class="btn btn-secondary" (click)="ingredientsImport()">
          <i class="fa fa-download"></i>
          Ingredient Import
        </button>
      </td>
    </tr>
  </tbody>
</table>
  
<br/>

<div class="bottom-padding"></div>